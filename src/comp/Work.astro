---
import WorkCard from "./WorkCard.astro";

const mdxs = await Astro.glob<Record<"id" | "imgs", string | string[]>>(
  "../content/work/*.md"
);

const works = new Map();
mdxs.forEach((md) => works.set(md.frontmatter.id, md));
---

<div>
  <h2 class="my-6 heading text-4xl">SHOW & TELL</h2>
</div>
<section class="breakout">
  <div
    class="col-start-1 grid grid-cols-12 grid-rows-[repeat(auto,min(89px,(100vw-3rem-16px*11)*1/12))] md:grid-rows-[repeat(31,min(89px,(100vw-3rem-16px*11)*1/12))] gap-2"
  >
    <!-- <div></div> -->
    <div
      class="relative overflow-hidden col-span-full row-span-8 md:col-span-10 md:row-span-5 md:col-start-3 lg:col-span-8 lg:row-span-5 lg:col-start-4"
    >
      <WorkCard md={works.get("flyp")} />
    </div>
    <div
      class="relative overflow-hidden col-span-full row-span-8 md:col-span-7 md:row-span-4 lg:col-span-6 lg:row-span-4"
    >
      <WorkCard md={works.get("colophon")} />
    </div>
    <div
      class="relative overflow-hidden col-start-4 col-end-10 row-span-10 md:col-span-5 md:row-span-8 md:col-start-8 lg:col-span-4 lg:row-span-6 lg:col-start-9"
    >
      <WorkCard md={works.get("agb")} />
    </div>
    <div
      class="relative overflow-hidden col-span-full row-span-8 md:col-span-6 md:row-span-4 lg:col-span-6 lg:row-span-4 lg:col-start-3"
    >
      <WorkCard md={works.get("xr")} />
    </div>
    <div
      class="relative overflow-hidden col-start-1 col-end-9 row-span-8 md:col-span-4 md:row-span-3 md:col-start-2 lg:col-span-4 lg:row-span-3 lg:row-start-[14]"
    >
      <WorkCard md={works.get("earthly")} />
    </div>
    <div
      class="relative overflow-hidden col-start-4 col-end-12 col-span-full row-span-8 md:col-span-6 md:row-span-6 md:col-start-7 lg:col-span-6 lg:row-span-6 lg:col-start-7"
    >
      <WorkCard md={works.get("pushbullet")} />
    </div>
    <div
      class="relative overflow-hidden col-span-full row-span-8 md:col-span-6 md:row-span-4 lg:col-span-6 lg:row-span-4 lg:row-start-[17]"
    >
      <WorkCard md={works.get("playalong")} />
    </div>
    <div
      class="relative overflow-hidden col-span-7 row-span-4 md:col-span-5 md:row-span-4 lg:col-start-3"
    >
      <WorkCard md={works.get("scroll")} />
    </div>
    <div
      class="relative overflow-hidden col-span-5 row-span-6 md:col-span-4 md:row-span-5 lg:col-start-9"
    >
      <WorkCard md={works.get("boggle")} />
    </div>
    <div
      class="relative overflow-hidden col-span-6 row-span-8 md:col-span-6 md:row-span-4 lg:col-span-5 lg:row-span-3"
    >
      <WorkCard md={works.get("sketchbook")} />
    </div>
    <div
      class="relative overflow-hidden col-span-6 row-span-5 md:col-span-5 md:row-span-4"
    >
      <WorkCard md={works.get("kolam")} />
    </div>
    <div
      class="relative overflow-hidden col-span-7 row-span-4 md:col-span-5 md:row-span-3"
    >
      <WorkCard md={works.get("islamic")} />
    </div>
    <div
      class="relative overflow-hidden col-span-5 row-span-4 md:col-span-5 md:row-span-4"
    >
      <WorkCard md={works.get("automaton")} />
    </div>
  </div>
</section>
